<!-- Input search -->
<div class="search-container">
  <h2>Search Results</h2>
  <mat-form-field>
    <input
      matInput
      type="text"
      [formControl]="myControl"
      placeholder="Enter a search term"
      required
      [matAutocomplete]="auto"
    />
    <!-- [displayWith] viene utilizzato per personalizzare la visualizzazione dei dati all'interno di un menu a discesa mat-select. Questo
      attributo accetta una funzione che definisce come i dati devono essere visualizzati nel menu a discesa. -->
    <mat-autocomplete #auto="matAutocomplete" [displayWith]="displayTitle">
      <mat-option
        class="autocomplete-option"
        *ngFor="let option of filteredOptions | async"
        [value]="option"
      >
        {{ option.title }}
      </mat-option>
    </mat-autocomplete>
  </mat-form-field>

  <!-- Button search -->
  <button
    class="button-search"
    mat-raised-button
    color="primary"
    (click)="searchBooks()"
    [disabled]="!myControl"
  >
    Search
  </button>

  <!-- Book List -->
  <div class="book-list">
    <div class="book" *ngFor="let book of searchResults">
      <h3>{{ book?.volumeInfo.title }}</h3>

      <p>{{ book.volumeInfo.authors?.join(", ") }}</p>
      <!--   <p>{{ book.volumeInfo.description }}</p> -->
      <img [src]="book?.volumeInfo.imageLinks?.thumbnail" />
      <button mat-raised-button (click)="showDetails(book.id)">Dettagli</button>
    </div>
  </div>
</div>

<!-- book.volumeInfo.authors?.join(", ")
   L'operatore ? viene utilizzato per verificare se l'array authors esiste e non Ã¨ nullo prima di eseguire il join(). Jois serve per combinare gli
   elementi dell'array degli autori in una singola stringa separata da virgole per visualizzare correttamente gli autori nel formato desiderato.
-->
